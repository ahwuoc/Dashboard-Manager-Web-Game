import Link from "next/link"; // Import Link từ Next.js
import { NavigationMenu, NavigationMenuItem, NavigationMenuLink, NavigationMenuList } from "@/components/ui/navigation-menu";
import {
    FaHome,
    FaUserShield,
    FaLeaf,
    FaCode,
    FaShoppingCart,
    FaBox,
    FaInfoCircle,
    FaLayerGroup // Icon cho tiêu đề "My App"
} from "react-icons/fa";
import { Toaster } from 'sonner';

const menuItems = [
    { href: "/", label: "Trang chủ", icon: <FaHome className="w-5 h-5" /> },
    { href: "/admin", label: "Admin", icon: <FaUserShield className="w-5 h-5" /> },
    { href: "/manage-vegetables", label: "Quản lý cải", icon: <FaLeaf className="w-5 h-5" /> },
    { href: "/pages/giftcodes", label: "Quản lý code", icon: <FaCode className="w-5 h-5" /> },
    { href: "/manage-shop", label: "Quản lý shop", icon: <FaShoppingCart className="w-5 h-5" /> },
    { href: "/manage-item", label: "Quản lý item", icon: <FaBox className="w-5 h-5" /> },
    { href: "/about", label: "Giới thiệu", icon: <FaInfoCircle className="w-5 h-5" /> },
];

export default function RootLayout({ children }: { children: React.ReactNode }) {
    return (
        <html lang="vi">
            <head>
                <title>My App</title>
                <meta name="description" content="Generated by create next app" />
                <link rel="icon" href="/favicon.ico" />
                {/* Giữ lại link CDN Tailwind CSS theo code gốc của bạn */}
                <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
            </head>
            <body className="flex min-h-screen bg-gray-50 font-sans">
                <div className="flex w-full min-h-screen">
                    <aside className="w-64 bg-gradient-to-b from-blue-700 to-blue-500 text-white shadow-lg p-6 flex flex-col">
                        <div className="mb-8 flex items-center gap-3">
                            <FaLayerGroup className="w-7 h-7" />
                            <h1 className="text-2xl font-bold tracking-tight">My App</h1>
                        </div>
                        <NavigationMenu orientation="vertical" className="w-full">
                            <NavigationMenuList className="flex flex-col gap-2 w-full">
                                {menuItems.map((item) => (
                                    <NavigationMenuItem key={item.href} className="w-full">
                                        <Link href={item.href} legacyBehavior passHref>
                                            <NavigationMenuLink
                                                className="flex items-center gap-3 px-4 py-3 text-white no-underline rounded-lg hover:bg-blue-600 hover:text-white transition-colors duration-200 w-full"
                                            >
                                                {item.icon}
                                                <span className="text-sm font-medium">{item.label}</span>
                                            </NavigationMenuLink>
                                        </Link>
                                    </NavigationMenuItem>
                                ))}
                            </NavigationMenuList>
                        </NavigationMenu>
                        <div className="mt-auto ">
                            <p className="text-xs text-blue-200">© 2025 My App</p>
                        </div>
                    </aside>

                    <main className="flex-1 p-8 bg-white rounded-l-2xl shadow-md">
                        {children}
                        <Toaster richColors position="top-right" />
                    </main>
                </div>
            </body>
        </html>
    );
}